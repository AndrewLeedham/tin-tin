(this["webpackJsonptin-tin"]=this["webpackJsonptin-tin"]||[]).push([[0],{102:function(e,t,n){e.exports={noselect:"Playing_noselect__28UVJ"}},107:function(e,t,n){e.exports=n(146)},146:function(e,t,n){"use strict";n.r(t);var a=n(55),r=n.n(a),o=n(64),i=n(1),c=n.n(i),l=n(65),s=n.n(l),u=n(39),m=n(166),d=n(68),f=n(44),b=n(162),g=Object(f.a)({},b.a,{colors:Object(f.a)({},b.a.colors,{brand:{50:"#ffe2e7",100:"#ffb3bb",200:"#fc8393",300:"#f9526d",400:"#f6224b",500:"#dd0939",600:"#ad0320",700:"#7c000e",800:"#4d0002",900:"#200400"}})}),h=n(70),v=n(54),E=n(8),p=n(36),j=n(32),O=n.n(j),w=n(97),y=0,S=1,C=2;function k(e){var t=window.localStorage.getItem("user");if(t)try{var n=JSON.parse(t);if(e&&n.sessionId!==e)return;return n}catch(a){return void console.warn("Could not read user from local session: ",a)}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={sessionId:e,admin:t,state:y,names:void 0};return window.localStorage.setItem("user",JSON.stringify(n)),n}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(i.useState)((function(){return e&&k(e)||x(e,!e)})),n=Object(E.a)(t,2),a=n[0],r=n[1];function o(e){window.localStorage.setItem("user",JSON.stringify(e)),r(e)}return[a,o]}var W=n(73),A=n(156),R=n(75),z=n(87),D=n(4),N=n(154),T=n(155),F=n(152),P=n(153);function U(){return c.a.createElement(F.a,{align:"center",marginBottom:10},c.a.createElement(P.a,{size:"150px",src:"".concat(".","/logo512.png")}),c.a.createElement(N.a,null,"Tin-tin"))}function V(e){var t=e.header,n=e.heading,a=e.subHeading,r=e.children;return c.a.createElement(D.a,{position:"relative",my:"10",maxW:"md",mx:"auto",px:"4"},t&&c.a.createElement(U,null),n&&c.a.createElement(N.a,{as:"h1",mb:2},n),a&&c.a.createElement(T.a,{fontSize:"xl",mb:5},a),r)}var J=n(84);function L(e){var t=e.children;return c.a.createElement("div",{style:{content:"",display:"table",clear:"both"}},t)}function B(e){var t=e.count,n=e.onSubmit,a=Object(i.useState)(new Array(t).fill("")),r=Object(E.a)(a,2),o=r[0],l=r[1];return c.a.createElement(V,{heading:"Submit your names",subHeading:"Enter the ".concat(t,' names you want to put in the tin, then press "Submit names".')},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(o)}},o.map((function(e,t){return c.a.createElement(W.a,{key:t,isRequired:!0,mb:4},c.a.createElement(A.a,{htmlFor:"name-".concat(t)},"Name ",t+1),c.a.createElement(R.a,{id:"name-".concat(t),value:e,onChange:function(e){return function(e,t){var n=Object(p.a)(o);n[e]=t,l(n)}(t,e.target.value)},mb:2,minLength:1,maxLength:30}))})),c.a.createElement(z.a,{type:"submit",variant:"solid",variantColor:"green",rightIcon:J.a,float:"right"},"Submit names"),c.a.createElement(z.a,{variant:"outline",rightIcon:J.b,float:"left",onClick:function(){return n([])}},"Skip and join")),c.a.createElement(L,null))}var M=n(100),H=n(161),q=n(16);function G(e){var t=e.startTurn,n=e.round,a=e.noNames,r=e.timer,o=e.lock,l=Object(i.useState)(r?Math.floor(r/60):1),s=Object(E.a)(l,2),u=s[0],m=s[1],d=Object(i.useState)(r?Math.floor(r%60):0),f=Object(E.a)(d,2),b=f[0],g=f[1],h=Object(i.useRef)(null),v=Object(i.useRef)(null);return c.a.createElement(V,{heading:"Wait for your turn",subHeading:'Welcome to tin-tin, press "Start turn" when it is your turn. "Start round" will be shown if there are no names left.'},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(u,b)}},c.a.createElement(F.a,{isInline:!0,spacing:4,mb:4},c.a.createElement(W.a,null,c.a.createElement(A.a,{htmlFor:"minutes"},"Minutes"),c.a.createElement(H.c,{id:"minutes",defaultValue:u,min:0,max:5,isInvalid:0===u&&0===b,ref:v,onChange:function(e){var t=v.current.children[0],n=h.current.children[0];0===e&&0===b?(t.setCustomValidity("Either minutes or seconds must be over 0"),t.reportValidity()):(t.setCustomValidity(""),n.setCustomValidity("")),m(e)}},c.a.createElement(H.d,null),c.a.createElement(H.e,null,c.a.createElement(H.b,null),c.a.createElement(H.a,null)))),c.a.createElement(W.a,null,c.a.createElement(A.a,{htmlFor:"seconds"},"Seconds"),c.a.createElement(H.c,{id:"seconds",defaultValue:b,min:0,max:60,isInvalid:0===u&&0===b,ref:h,onChange:function(e){var t=v.current.children[0],n=h.current.children[0];0===e&&0===u?(n.setCustomValidity("Either minutes or seconds must be over 0"),n.reportValidity()):(t.setCustomValidity(""),n.setCustomValidity("")),g(e)}},c.a.createElement(H.d,null),c.a.createElement(H.e,null,c.a.createElement(H.b,null),c.a.createElement(H.a,null))))),c.a.createElement(F.a,{isInline:!0,justify:"center"},c.a.createElement(z.a,{type:"submit",variant:n?"solid":"outline",variantColor:"green",rightIcon:q.h,isDisabled:a||o},"Start ",n?"round":"turn"))),c.a.createElement(L,null))}var Y=n(157),_=n(158),X=n(51),K=n(163),Q=n(80),$=n(102),Z=n(79);function ee(e){var t=e.toString();return 1===t.length?"0"+t:t}function te(e){var t=e.time,n=e.reset,a=e.toggle,r=e.isPaused,o=Object(Z.a)(e,["time","reset","toggle","isPaused"]),l=Object(i.useState)(!1),s=Object(E.a)(l,2),u=s[0],m=s[1];return c.a.createElement(d.a,Object.assign({rounded:"md",borderWidth:1,borderColor:"black",px:1,alignItems:"center"},o),c.a.createElement(Y.a,{size:"sm","aria-label":"Hide timer",icon:u?q.c:q.d,variant:"ghost",onClick:function(){return m(!u)}}),c.a.createElement(T.a,{as:"span",fontSize:"md",style:{fontVariantNumeric:"tabular-nums"},opacity:u?0:1,mx:2},ee(Math.floor(t/60)),":",ee(Math.floor(t%60))),c.a.createElement(Y.a,{size:"sm","aria-label":r?"Resume timer":"Pause timer",icon:r?q.h:q.g,variant:"ghost",onClick:function(){return a()}}),c.a.createElement(Y.a,{size:"sm","aria-label":"Reset timer",icon:q.k,variant:"ghost",onClick:function(){return n()}}))}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(i.useState)((function(){var n=window.localStorage.getItem(e);if(null!==n)try{return JSON.parse(n)}catch(a){}return t})),a=Object(E.a)(n,2),r=a[0],o=a[1];function c(t){window.localStorage.setItem(e,JSON.stringify(t)),o(t)}function l(){window.localStorage.removeItem(e)}return[r,c,l]}function ae(e){var t=e.names,n=e.endTurn,a=e.timer,r=ne("names",t),o=Object(E.a)(r,3),l=o[0],s=o[1],u=o[2],m=ne("currentTile",0),f=Object(E.a)(m,3),b=f[0],g=f[1],h=f[2],v=ne("passed",null),j=Object(E.a)(v,3),O=j[0],w=j[1],y=j[2],S=ne("isOpen",!1),C=Object(E.a)(S,3),k=C[0],x=C[1],I=C[2],W=ne("isCancelable",!0),A=Object(E.a)(W,3),R=A[0],N=A[1],P=A[2],U=function(e,t){var n=Object(i.useState)(!1),a=Object(E.a)(n,2),r=a[0],o=a[1],c=ne("time",e),l=Object(E.a)(c,3),s=l[0],u=l[1],m=l[2],d=Object(i.useState)(Date.now()),f=Object(E.a)(d,2),b=f[0],g=f[1],h=Object(i.useState)((function(){var e=new Audio("".concat(".","/alarm.mp3"));return e.loop=!0,e})),v=Object(E.a)(h,1)[0],p=Object(i.useState)(!1),j=Object(E.a)(p,2),O=j[0],w=j[1];return Object(i.useEffect)((function(){var e=setInterval((function(){if(!0!==r){var e=Date.now();e-b>=1e3?s-1>0?u(s-1):(u(0),o(!0),v.play(),w(!0),t&&t()):g(e)}}),1e3);return function(){return clearInterval(e)}})),[s,r,o,function(){u(e),g(Date.now()),v.pause(),w(!1)},function(){m(),v.pause()},O,function(){v.pause(),w(!1)}]}(a,(function(){N(!1),x(!0)})),J=Object(E.a)(U,7),B=J[0],M=J[1],H=J[2],G=J[3],Z=J[4],ee=J[5],ae=J[6],re=function(){H(!1),x(!1)};var oe=c.a.useRef();function ie(e,t){var n=Object(p.a)(l);n[e].answered=!!t,s(n)}var ce=null!==b||null!==O?"".concat((null!==b&&void 0!==b?b:O)+1,"/").concat(l.length):"";return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{heading:"Tin-tin ".concat(ce)},null!==b||null!==O?c.a.createElement(Q.a,{onSwipe:function(e){var t=!1;e===Q.b.LEFT?null!==O?(ie(O,!0),w(null),t=!0):w(b):e===Q.b.RIGHT&&ie(b,!0),t||(b+1<l.length?g(b+1):g(null))},renderButtons:function(e){var t=e.left,n=e.right;return c.a.createElement(F.a,{isInline:!0,flex:"1",justifyContent:"space-between",alignItems:"center",spacing:2,p:8},c.a.createElement(Y.a,{size:"lg","aria-label":null===O?"Pass":"Answered passed",icon:null===O?q.b:q.l,variant:"solid",variantColor:null===O?"red":"orange",onClick:t}),null!==O&&null!==b&&c.a.createElement(T.a,{flexGrow:"1"},c.a.createElement("strong",null,"Passed:")," ",l[O].name),c.a.createElement(Y.a,{size:"lg","aria-label":null!==b?"Correct":"Answered passed",icon:null!==b?q.a:q.l,variantColor:null!==b?"green":"orange",onClick:null!==b?n:t}))}},c.a.createElement(D.a,{rounded:"lg",borderWidth:1,py:"6rem",px:2,textAlign:"center"},c.a.createElement(T.a,{fontSize:"3xl",className:$.noselect},null!==b?l[b].name:"Passed: ".concat(l[O].name)))):c.a.createElement(D.a,{py:"6rem",px:2,textAlign:"center"},c.a.createElement(T.a,{fontSize:"3xl",color:"grey.200"},"No more names!")),c.a.createElement(d.a,{justifyContent:"space-between",mt:10},c.a.createElement(te,{time:B,reset:G,initialTime:a,isPaused:M,toggle:function(){return H(!M)}}),c.a.createElement(z.a,{variant:"outline",variantColor:"red",rightIcon:q.g,onClick:function(){H(!0),x(!0)}},"End turn")),c.a.createElement(L,null)),c.a.createElement(_.a,{isOpen:k,leastDestructiveRef:R&&oe,onClose:R&&re,closeOnOverlayClick:R,closeOnEsc:R},c.a.createElement(X.f,null),ee?c.a.createElement(_.b,null,c.a.createElement(X.e,{fontSize:"lg",fontWeight:"bold",textAlign:"center"},"Time is up!"),c.a.createElement(X.b,{paddingBottom:5},c.a.createElement(F.a,{isInline:!0,justify:"center"},c.a.createElement(z.a,{onClick:ae,flexDirection:"column",paddingX:8,paddingY:12,variantColor:"red"},c.a.createElement(q.n,{size:30,style:{marginBottom:"0.5rem"}}),"Stop Alarm")))):c.a.createElement(_.b,null,c.a.createElement(X.e,{fontSize:"lg",fontWeight:"bold"},"Double check you did not mis-click anything:"),c.a.createElement(X.b,null,l.slice(0,null!==b?b+1:l.length).map((function(e,t){var n=e.name,a=e.answered;return c.a.createElement(K.a,{id:"name-".concat(t),isChecked:a,onChange:function(e){return ie(t,e.target.checked)},isInline:!0,isFullWidth:!0,key:t,rounded:"md",borderWidth:1,p:2,mb:2},n)})),c.a.createElement(T.a,null,"You scored",": "+l.reduce((function(e,t){var n=t.answered;return e+Number(n)}),0))),c.a.createElement(X.d,null,R&&c.a.createElement(z.a,{ref:oe,onClick:re},"Cancel"),c.a.createElement(z.a,{variantColor:"green",onClick:function(){u(),h(),y(),I(),P(),Z(),n(l)},ml:3},"Confirm")))))}var re=n(164);function oe(e){var t=e.title,n=void 0===t?"Something went wrong":t,a=e.error;return c.a.createElement(re.a,{status:"error",variant:"subtle",flexDirection:"column",justifyContent:"center",textAlign:"center",height:"200px"},c.a.createElement(re.c,{size:"40px",mr:0}),c.a.createElement(re.d,{mt:4,mb:1,fontSize:"lg"},n),c.a.createElement(re.b,{maxWidth:"sm"},a.toString()))}function ie(){var e=c.a.useState(),t=Object(E.a)(e,2)[1];return c.a.useCallback((function(e){t((function(){throw e}))}),[t])}function ce(e,t,n,a,r){return function(o){var i=e.carbon?Object.values(e.carbon):[];O.a.database().ref("sessions/".concat(t,"/carbon")).set([].concat(Object(p.a)(i),Object(p.a)(o))).then((function(){a(Object(f.a)({},n,{state:C}))})).catch(r)}}function le(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}function se(e,t,n,a,i){return function(c,l){O.a.database().ref("sessions/".concat(t,"/lock")).set(!0).then(Object(o.a)(r.a.mark((function n(){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=e.current?Object.values(e.current):Object.values(e.carbon),e.current){n.next=4;break}return n.next=4,O.a.database().ref("sessions/".concat(t,"/current")).set(Object(p.a)(a)).catch(i);case 4:return n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))).then((function(e){a(Object(f.a)({},n,{names:le(e).map((function(e){return{name:e,answered:!1}})),state:S,timer:60*c+l}))})).catch(i)}}function ue(e,t,n,a){return function(r){r=r.filter((function(e){return!e.answered})).map((function(e){return e.name})),O.a.database().ref("sessions/".concat(e,"/current")).set(Object(p.a)(r)).then((function(){return O.a.database().ref("sessions/".concat(e,"/lock")).set(!1)})).then((function(){n(Object(f.a)({},t,{names:void 0,state:C}))})).catch(a)}}function me(){var e=Object(v.h)().id,t=ie(),n=Object(w.a)(O.a.database().ref("sessions/".concat(e))),a=Object(E.a)(n,3),r=a[0],o=a[1],i=a[2],l=I(e),s=Object(E.a)(l,2),u=s[0],m=s[1],f=r&&r.val();return c.a.createElement(c.a.Fragment,null,o&&!i&&c.a.createElement(d.a,{alignItems:"center",justifyContent:"center",mt:16},c.a.createElement(M.a,{size:"xl",transform:"translate(-50%, -50%)"})),(i||!f)&&!o&&c.a.createElement(V,null,c.a.createElement(oe,{title:i?void 0:"Session ID does not exist",error:i?i.toString():"Please check you copied it correctly"})),!o&&!i&&f&&function(e,t,n,a,r){switch(n.state){case y:return c.a.createElement(B,{count:e.count,onSubmit:ce(e,t,n,a,r)});case C:return c.a.createElement(G,{startTurn:se(e,t,n,a,r),round:!e.current||0===Object.values(e.current).length,noNames:!e.carbon||0===Object.values(e.carbon).length,timer:n.timer,lock:!!e.lock});case S:return c.a.createElement(ae,{names:n.names,timer:n.timer,endTurn:ue(t,n,a,r)});default:return"Unknown state: ".concat(n.state)}}(r.val(),e,u,m,t))}var de=n(165),fe=n(160),be=n(106),ge=n(159);function he(e){var t=e.text,n=Object(Z.a)(e,["text"]);return c.a.createElement(D.a,Object.assign({position:"relative"},n),c.a.createElement(ge.a,{borderColor:"gray.400"}),c.a.createElement(T.a,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"white",paddingX:2},t))}function ve(){var e=Object(i.useState)(""),t=Object(E.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),o=Object(E.a)(r,2),l=o[0],s=o[1],u=Object(i.useState)(""),m=Object(E.a)(u,2),d=m[0],b=m[1],g=Object(be.a)(O.a.auth()),h=Object(E.a)(g,3),p=h[0],j=h[1],w=h[2],y=Object(i.useState)(void 0),S=Object(E.a)(y,2),C=S[0],k=S[1],x=Object(i.useState)(4),D=Object(E.a)(x,2),N=D[0],T=D[1],F=Object(i.useState)(void 0),P=Object(E.a)(F,2),U=P[0],J=P[1],B=I(),G=Object(E.a)(B,2),Y=G[0],_=G[1],X=ie(),K=Object(v.g)();return Object(i.useEffect)((function(){Y.sessionId&&J(Y.sessionId)}),[Y.sessionId]),c.a.createElement(c.a.Fragment,null,j&&!w&&c.a.createElement(M.a,{size:"xl",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),!j&&w&&c.a.createElement(V,null,c.a.createElement(oe,{error:w.toString()})),!j&&!w&&p&&(U?c.a.createElement(v.a,{to:"/sessions/".concat(U)}):c.a.createElement(V,{heading:"Create a new session",subHeading:"Start a new tin-tin game session with the number of names per player you want. You will be redirected to a shareable url that other players can join from."},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O.a.database().ref("sessions").push({count:N,timestamp:Date.now()}).then((function(e){var t=e.key;_(Object(f.a)({},Y,{sessionId:t}))})).catch(X)}},c.a.createElement(W.a,null,c.a.createElement(A.a,{htmlFor:"count"},"Number of names a player can select"),c.a.createElement(H.c,{id:"count",defaultValue:N,min:1,max:10,onChange:T,mb:4},c.a.createElement(H.d,null),c.a.createElement(H.e,null,c.a.createElement(H.b,null),c.a.createElement(H.a,null)))),c.a.createElement(z.a,{variant:"outline",rightIcon:q.f,float:"left",onClick:function(){O.a.auth().signOut().catch(k)}},"Logout"),c.a.createElement(z.a,{type:"submit",variant:"solid",variantColor:"green",rightIcon:q.i,float:"right"},"Create new session")),c.a.createElement(L,null))),!p&&!j&&!w&&c.a.createElement(V,{header:!0,subHeading:"Join a session with a unique session id or login to create a new session (closed beta)."},C&&c.a.createElement(oe,{error:C}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),K.push("/sessions/".concat(encodeURIComponent(n)))}},c.a.createElement(W.a,null,c.a.createElement(A.a,{htmlFor:"session"},"Enter a session code:"),c.a.createElement(de.a,{size:"md"},c.a.createElement(R.a,{id:"session",value:n,onChange:function(e){return a(e.target.value)},style:{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:0}}),c.a.createElement(fe.a,{width:"auto",p:"0",backgroundColor:"transparent"},c.a.createElement(z.a,{type:"submit",size:"md",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},variantColor:"green",rightIcon:q.m},"Join"))))),c.a.createElement(he,{text:"or",marginY:10}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),k(void 0),O.a.auth().signInWithEmailAndPassword(l,d).catch(k)}},c.a.createElement(W.a,{isRequired:!0,mb:4},c.a.createElement(A.a,{htmlFor:"username"},"Username"),c.a.createElement(R.a,{type:"email",id:"username",value:l,onChange:function(e){return s(e.target.value)},mb:2})),c.a.createElement(W.a,{isRequired:!0,mb:4},c.a.createElement(A.a,{htmlFor:"password"},"Password"),c.a.createElement(R.a,{type:"password",id:"password",value:d,onChange:function(e){return b(e.target.value)},mb:2})),c.a.createElement(z.a,{type:"submit",variant:"solid",variantColor:"green",rightIcon:q.e},"Sign in"))))}var Ee=n(33),pe=n(48),je=n(41),Oe=n(42),we=function(e){Object(Oe.a)(n,e);var t=Object(je.a)(n);function n(e){var a;return Object(Ee.a)(this,n),(a=t.call(this,e)).state={error:void 0},a}return Object(pe.a)(n,[{key:"render",value:function(){return this.state.error?c.a.createElement(V,null,c.a.createElement(oe,{error:this.state.error})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e.toString()}}}]),n}(c.a.Component);var ye=function(e){var t=e.isUpdateAvailable,n=e.updateAssets;return c.a.createElement(h.a,null,c.a.createElement(u.a,{theme:g},c.a.createElement(m.a,null),c.a.createElement(we,null,c.a.createElement(v.d,null,c.a.createElement(v.b,{path:"/sessions/:id",component:me}),c.a.createElement(v.b,{path:"/",component:ve})),t&&c.a.createElement(d.a,{position:"fixed",bottom:2,left:"0",right:"0",justifyContent:"center"},c.a.createElement(re.a,{status:"info",rounded:"md"},c.a.createElement(re.c,null),c.a.createElement(re.b,{mr:2},"A new version of Tin-tin is available! Refresh to update."),c.a.createElement(Y.a,{icon:q.j,onClick:n,size:"sm",variant:"ghost"}))))))},Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ce(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");Se?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ke(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ke(t,e)}))}}function ke(e,t){navigator.serviceWorker.register(e).then((function(e){e.waiting&&t&&t.onWaiting&&t.onWaiting(e.waiting),e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var xe=Object(i.createContext)(),Ie=function(e){var t=e.children,n=Object(i.useState)(null),a=Object(E.a)(n,2),r=a[0],o=a[1],l=Object(i.useState)(!1),s=Object(E.a)(l,2),u=s[0],m=s[1];Object(i.useEffect)((function(){Ce({onUpdate:function(e){o(e.waiting),m(!0)},onWaiting:function(e){o(e),m(!0)}})}),[]),Object(i.useEffect)((function(){r&&r.addEventListener("statechange",(function(e){"activated"===e.target.state&&window.location.reload()}))}),[r]);var d=Object(i.useMemo)((function(){return{isUpdateAvailable:u,updateAssets:function(){r&&r.postMessage({type:"SKIP_WAITING"})}}}),[u,r]);return c.a.createElement(xe.Provider,{value:d},t)};function We(){var e=Object(i.useContext)(xe),t=e.isUpdateAvailable,n=e.updateAssets;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ye,{isUpdateAvailable:t,updateAssets:n}))}window.addEventListener("error",function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.error(t),navigator.serviceWorker){e.next=3;break}return e.abrupt("return");case 3:return e.next=6,navigator.serviceWorker.ready;case 6:((n=e.sent).installing||n.waiting)&&navigator.serviceWorker.ready.then(function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.unregister();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),s.a.render(c.a.createElement(Ie,null,c.a.createElement(We,null)),document.getElementById("root"))},32:function(e,t,n){var a=n(113);n(114),n(117);a.initializeApp({apiKey:"AIzaSyDb3dX8j1yMlbNFGHI9QqRpSBjJ0WsWO4I",authDomain:"tin-tin-5e0d8.firebaseapp.com",databaseURL:"https://tin-tin-5e0d8.firebaseio.com",projectId:"tin-tin-5e0d8",storageBucket:"tin-tin-5e0d8.appspot.com",messagingSenderId:"196227528129",appId:"1:196227528129:web:51ad97056e103f78c2ab40"}),e.exports=a}},[[107,1,2]]]);
//# sourceMappingURL=main.66349505.chunk.js.map